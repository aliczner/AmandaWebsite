---
import Header from '../../components/Header.astro'
import Layout from '../../layouts/Layout.astro'
import Sidebar from '../../layouts/Sidebar.astro'
import { SEO } from 'astro-seo'
import '../../styles/main.scss'

const siteUrl = Astro.site?.toString() || 'https://amandaliczner.ca'

const books = [
  {
    title: 'Pollinator ABC Colouring Book',
    type: 'Children\'s Colouring Book',
    description: 'A delightful ABC journey through the world of pollinators! Perfect for young learners to explore the alphabet while discovering amazing pollinating creatures.',
    amazonUrl: '#', // TODO: Add actual Amazon URL
    coverImage: '/pictures/book-pollinator-abc.jpg', // TODO: Add actual book cover image
    targetAudience: 'Children',
  },
  {
    title: 'A Visit From Santa Bee',
    type: 'Children\'s Colouring Book',
    description: 'A whimsical holiday tale featuring Santa Bee! This festive colouring book combines the magic of Christmas with the wonderful world of bees.',
    amazonUrl: '#', // TODO: Add actual Amazon URL
    coverImage: '/pictures/book-santa-bee.jpg', // TODO: Add actual book cover image
    targetAudience: 'Children',
  },
  {
    title: 'Pollinator Colouring Book for Adults',
    type: 'Adult Colouring Book',
    description: 'Detailed and intricate illustrations of pollinators in their natural habitats. Perfect for relaxation and mindfulness while learning about these essential creatures.',
    amazonUrl: '#', // TODO: Add actual Amazon URL
    coverImage: '/pictures/book-pollinator-adult.jpg', // TODO: Add actual book cover image
    targetAudience: 'Adults',
  },
]
---

<SEO
  title="Books - Dr. Amanda Liczner"
  description="Explore Dr. Amanda Liczner's collection of pollinator-themed colouring books for children and adults. Educational and beautifully illustrated books available on Amazon."
  canonical={`${siteUrl}/books`}
  openGraph={{
    basic: {
      title: 'Books by Dr. Amanda Liczner',
      type: 'website',
      image: `${siteUrl}/pictures/book-pollinator-abc.jpg`,
      url: `${siteUrl}/books`,
    },
    optional: {
      description: 'Pollinator-themed colouring books for children and adults.',
      siteName: 'Amanda Liczner',
    }
  }}
  twitter={{
    card: 'summary_large_image',
  }}
/>

<Layout title="Books - Dr. Amanda Liczner">
  <Sidebar class="lg:hidden" />
  <Header />
  <main>
    <!-- Hero Section -->
    <section class="relative py-20 lg:py-32 overflow-hidden">
      <!-- Gradient Background -->
      <div class="absolute inset-0 bg-gradient-to-br from-primary/5 via-secondary/5 to-primary/10"></div>

      <div class="container relative px-4 sm:px-6">
        <div class="max-w-4xl mx-auto text-center">
          <h1 class="text-4xl sm:text-5xl lg:text-6xl font-medium text-neutral-700 mb-6">
            <span class="bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent">
              Pollinator Colouring Books
            </span>
          </h1>
          <p class="text-lg sm:text-xl lg:text-2xl text-neutral-600 max-w-3xl mx-auto leading-relaxed">
            Discover the wonderful world of pollinators through beautifully illustrated colouring books.
            Perfect for all ages, from young learners to adults seeking creative relaxation.
          </p>
        </div>
      </div>
    </section>

    <!-- Books Grid -->
    <section class="py-12 lg:py-20 relative">
      <div class="container px-4 sm:px-6">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 lg:gap-12 max-w-7xl mx-auto">
          {books.map((book) => (
            <article class="book-card group">
              <!-- Card Container -->
              <div class="relative h-full">
                <!-- Gradient Glow Effect -->
                <div class="absolute inset-0 bg-gradient-to-br from-primary/20 via-secondary/15 to-primary/10 rounded-3xl blur-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>

                <!-- Main Card -->
                <div class="relative h-full bg-white rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 border border-primary/10 flex flex-col">

                  <!-- Book Cover Image -->
                  <div class="book-cover-container relative overflow-hidden bg-gradient-to-br from-neutral-50 to-primary/5">
                    <div class="aspect-[3/4] relative">
                      {/* TODO: Replace with actual book cover images */}
                      <div class="absolute inset-0 flex items-center justify-center bg-gradient-to-br from-primary/10 via-white to-secondary/10">
                        <div class="text-center p-8">
                          <div class="w-24 h-24 mx-auto mb-4 rounded-full bg-primary/20 flex items-center justify-center">
                            <svg class="w-12 h-12 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
                            </svg>
                          </div>
                          <p class="text-sm text-neutral-500 font-medium">Book Cover</p>
                        </div>
                      </div>
                      <img
                        src={book.coverImage}
                        alt={`${book.title} cover`}
                        class="absolute inset-0 w-full h-full object-cover opacity-0"
                        loading="lazy"
                        onerror="this.style.opacity='0'"
                        onload="this.style.opacity='1'"
                      />
                    </div>

                    <!-- Audience Badge -->
                    <div class="absolute top-4 right-4">
                      <span class="inline-block px-3 py-1 rounded-full text-xs font-medium bg-white/90 backdrop-blur-sm text-primary border border-primary/20 shadow-md">
                        {book.targetAudience}
                      </span>
                    </div>
                  </div>

                  <!-- Book Details -->
                  <div class="p-6 lg:p-8 flex flex-col flex-grow">
                    <div class="flex-grow">
                      <p class="text-sm font-medium text-secondary mb-2">{book.type}</p>
                      <h2 class="text-2xl lg:text-3xl font-medium text-neutral-700 mb-4 leading-tight max-w-full">
                        {book.title}
                      </h2>
                      <p class="text-neutral-600 leading-relaxed mb-6 max-w-full">
                        {book.description}
                      </p>
                    </div>

                    <!-- Amazon Button -->
                    <a
                      href={book.amazonUrl}
                      target="_blank"
                      rel="noopener noreferrer"
                      class="amazon-button inline-flex items-center justify-center gap-2 w-full px-6 py-4 bg-gradient-to-r from-[#FF9900] to-[#FFB84D] text-white rounded-xl font-medium shadow-lg hover:shadow-2xl hover:scale-105 hover:-translate-y-1 transition-all duration-300 ease-out"
                    >
                      <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M.045 18.02c.072-.116.187-.124.348-.022 3.636 2.11 7.594 3.166 11.87 3.166 2.852 0 5.668-.533 8.447-1.595l.315-.14c.138-.06.234-.1.293-.13.226-.088.39-.046.525.13.12.174.09.336-.12.48-.256.19-.6.41-1.006.654-1.244.743-2.64 1.316-4.185 1.726-1.53.406-3.045.608-4.554.608-2.109 0-4.162-.324-6.16-.97-1.985-.641-3.818-1.628-5.496-2.96-.094-.075-.133-.17-.102-.295.03-.127.1-.19.21-.227zM21.94 16.02c-.22-.25-.68-.37-1.03-.13-.86.58-1.73 1.06-2.61 1.44-.88.38-2.04.7-3.48.95-.09.03-.15.12-.15.23 0 .08.05.14.15.17l.5.1c1.05.21 2.14.37 3.27.5 1.13.13 2.27.2 3.42.2.52 0 1.03-.03 1.53-.08.06-.01.1-.05.1-.11 0-.05-.02-.09-.06-.11l-.47-.23c-.22-.1-.42-.21-.6-.33-.37-.24-.62-.54-.62-.94 0-.22.06-.42.18-.59.12-.17.29-.26.52-.26.38 0 .72.16.96.43.24.26.37.58.37.93 0 .52-.22.97-.65 1.35-.43.38-1.02.57-1.76.57-1.17 0-2.34-.09-3.5-.26-1.16-.17-2.27-.42-3.33-.75-1.06-.33-2.03-.75-2.91-1.27-.88-.52-1.6-1.13-2.17-1.82-.14-.17-.21-.37-.21-.6 0-.36.13-.67.4-.91.26-.24.6-.36 1.01-.36.3 0 .57.07.82.22.25.15.45.36.6.62.47.8 1.14 1.46 2.02 1.99.88.52 1.9.92 3.07 1.18 1.17.26 2.4.39 3.69.39 1.78 0 3.37-.28 4.77-.85.06-.03.09-.08.09-.15 0-.08-.04-.14-.11-.17z"/>
                      </svg>
                      <span>View on Amazon</span>
                    </a>
                  </div>
                </div>
              </div>
            </article>
          ))}
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="pb-16 lg:pb-24">
      <div class="container mx-auto px-4 sm:px-6">
        <div class="max-w-4xl mx-auto relative">
          <!-- Gradient background with shadow -->
          <div class="absolute inset-0 bg-gradient-to-br from-primary/20 via-secondary/15 to-primary/10 rounded-3xl blur-sm"></div>

          <div class="relative border border-primary/20 rounded-3xl overflow-hidden shadow-xl">
            <div class="flex flex-col gap-8 lg:gap-12 bg-gradient-to-br from-white via-neutral-50 to-primary/5 px-6 sm:px-8 lg:px-12 xl:px-16 py-12 lg:py-20 text-center items-center">
              <div class="flex flex-col gap-4">
                <h2 class="text-neutral-700 text-3xl sm:text-4xl lg:text-5xl font-medium mx-auto">
                  Love Learning About Pollinators?
                </h2>
                <p class="text-neutral-600 text-base sm:text-lg lg:text-xl max-w-2xl mx-auto">
                  Explore more about pollinator conservation and ecological research on my website.
                </p>
              </div>

              <div class="flex flex-col sm:flex-row gap-4">
                <a
                  href="/experience"
                  class="px-8 py-4 rounded-xl transition-all duration-300 ease-out shadow-lg font-medium bg-primary text-white hover:shadow-2xl hover:scale-105 hover:bg-secondary hover:-translate-y-1"
                >
                  View Research
                </a>
                <a
                  href="/contact"
                  class="px-8 py-4 rounded-xl transition-all duration-300 ease-out shadow-lg font-medium bg-secondary text-neutral-700 hover:shadow-2xl hover:scale-105 hover:bg-primary hover:text-white hover:-translate-y-1"
                >
                  Get in Touch
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>
</Layout>

<style>
  .book-cover-container {
    position: relative;
    overflow: hidden;
  }

  .book-cover-container::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
      135deg,
      transparent 0%,
      rgba(255, 255, 255, 0.1) 50%,
      transparent 100%
    );
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .book-card:hover .book-cover-container::after {
    opacity: 1;
  }

  /* Amazon button hover effect */
  .amazon-button {
    position: relative;
    overflow: hidden;
  }

  .amazon-button::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
      45deg,
      transparent,
      rgba(255, 255, 255, 0.3),
      transparent
    );
    transform: translateX(-100%);
    transition: transform 0.6s ease;
  }

  .amazon-button:hover::before {
    transform: translateX(100%);
  }

  /* Ensure book titles don't break layout */
  h2 {
    overflow-wrap: break-word;
    word-wrap: break-word;
    hyphens: auto;
  }
</style>
