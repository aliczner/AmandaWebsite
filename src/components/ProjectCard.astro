---
export interface Props {
  image: string
  title: string
  description: string
  buttonText?: string
  buttonLink?: string
}
import Button from './Button.astro'
const { image, title, description, buttonText, buttonLink } = Astro.props

const pictureClass = buttonText && buttonLink ? 'md:w-1/3' : 'md:w-1/3'
const textClass =
  buttonText && buttonLink
    ? 'md:w-1/2 flex-1'
    : 'md:w-2/3 flex-1'
---

<div class="group relative">
  <!-- Gradient Glow Effect -->
  <div class="absolute inset-0 bg-gradient-to-br from-primary/10 via-secondary/5 to-primary/10 rounded-3xl blur-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300" aria-hidden="true"></div>

  <!-- Card Content -->
  <div class="relative bg-white border border-primary/10 rounded-3xl shadow-lg hover:shadow-2xl transition-all duration-300 ease-out overflow-hidden">
    <div class="flex flex-col md:flex-row gap-6 p-6 lg:p-8">
      <!-- Image Section -->
      <div class={pictureClass + " flex-shrink-0"}>
        <div class="image-wrapper h-full">
          {
            buttonLink ? (
              <a href={buttonLink} class="block h-full">
                <img
                  src={image}
                  alt={title}
                  class="w-full h-full min-h-[200px] md:min-h-[250px] object-cover rounded-2xl"
                  loading="lazy"
                />
              </a>
            ) : (
              <img
                src={image}
                alt={title}
                class="w-full h-full min-h-[200px] md:min-h-[250px] object-cover rounded-2xl"
                loading="lazy"
              />
            )
          }
        </div>
      </div>

      <!-- Content Section -->
      <div class={textClass + " flex flex-col justify-center"}>
        <h3 class="text-2xl lg:text-3xl font-semibold text-neutral-700 mb-3">
          {title}
        </h3>
        <p class="text-neutral-600 text-base lg:text-lg leading-relaxed">
          {description}
        </p>
      </div>

      <!-- Button Section -->
      {
        buttonText && buttonLink ? (
          <div class="md:w-auto flex items-center justify-center md:justify-end">
            <Button
              href={buttonLink}
              text={buttonText}
              variant="primary"
              className="text-base lg:text-lg tracking-wide bg-primary w-full md:w-auto"
            />
          </div>
        ) : null
      }
    </div>
  </div>
</div>

<style>
  .image-wrapper {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(240, 253, 250, 0.95) 100%);
    padding: 0.5rem;
    border-radius: 1rem;
    box-shadow:
      0 4px 6px -1px rgba(0, 0, 0, 0.1),
      0 2px 4px -1px rgba(0, 0, 0, 0.06);
    border: 1px solid rgba(var(--ac-primary), 0.1);
    transition: all 0.3s ease;
  }

  .group:hover .image-wrapper {
    transform: translateY(-2px);
    box-shadow:
      0 10px 15px -3px rgba(0, 0, 0, 0.1),
      0 4px 6px -2px rgba(0, 0, 0, 0.05);
  }
</style>
